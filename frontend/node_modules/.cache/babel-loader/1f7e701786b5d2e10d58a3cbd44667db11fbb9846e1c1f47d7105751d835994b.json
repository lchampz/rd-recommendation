{"ast":null,"code":"const getScorePoints = (product, selectedPreferences, selectedFeatures) => {\n  let score = 0;\n  product.preferences.forEach(preference => selectedPreferences.includes(preference) ? score += 1 : 0);\n  product.features.forEach(feature => selectedFeatures.includes(feature) ? score += 1 : 0);\n  return score;\n};\nconst getRecommendations = (formData = {\n  selectedPreferences: [],\n  selectedFeatures: []\n}, products = [{\n  id: 0,\n  preferences: [],\n  features: [],\n  name: ''\n}], oneProduct = false) => {\n  const {\n    selectedPreferences,\n    selectedFeatures\n  } = formData;\n  let recommendation = products.filter(product => {\n    const hasPreference = product.preferences.some(preference => selectedPreferences.includes(preference));\n    const hasFeature = product.features.some(feature => selectedFeatures.includes(feature));\n    return hasPreference || hasFeature;\n  });\n  recommendation.sort((a, b) => {\n    const aScore = getScorePoints(a, selectedPreferences, selectedFeatures);\n    const bScore = getScorePoints(b, selectedPreferences, selectedFeatures);\n    return bScore - aScore;\n  });\n  return oneProduct ? recommendation[0] : recommendation;\n};\nexport default {\n  getRecommendations\n};","map":{"version":3,"names":["getScorePoints","product","selectedPreferences","selectedFeatures","score","preferences","forEach","preference","includes","features","feature","getRecommendations","formData","products","id","name","oneProduct","recommendation","filter","hasPreference","some","hasFeature","sort","a","b","aScore","bScore"],"sources":["/Users/victor/Documents/dev/monorepo/frontend/src/services/recommendation.service.js"],"sourcesContent":["const getScorePoints = (product, selectedPreferences, selectedFeatures) => {\n  let score = 0;\n  product.preferences.forEach((preference) =>\n    selectedPreferences.includes(preference) ? (score += 1) : 0\n  );\n  product.features.forEach((feature) =>\n    selectedFeatures.includes(feature) ? (score += 1) : 0\n  );\n  return score;\n};\nconst getRecommendations = (\n  formData = { selectedPreferences: [], selectedFeatures: [] },\n  products = [{ id: 0, preferences: [], features: [], name: '' }],\n  oneProduct = false\n) => {\n  const { selectedPreferences, selectedFeatures } = formData;\n\n  let recommendation = products.filter((product) => {\n    const hasPreference = product.preferences.some((preference) =>\n      selectedPreferences.includes(preference)\n    );\n    const hasFeature = product.features.some((feature) =>\n      selectedFeatures.includes(feature)\n    );\n    return hasPreference || hasFeature;\n  });\n\n  recommendation.sort((a, b) => {\n    const aScore = getScorePoints(a, selectedPreferences, selectedFeatures);\n    const bScore = getScorePoints(b, selectedPreferences, selectedFeatures);\n    return bScore - aScore;\n  });\n\n  return oneProduct ? recommendation[0] : recommendation;\n};\n\nexport default { getRecommendations };\n"],"mappings":"AAAA,MAAMA,cAAc,GAAGA,CAACC,OAAO,EAAEC,mBAAmB,EAAEC,gBAAgB,KAAK;EACzE,IAAIC,KAAK,GAAG,CAAC;EACbH,OAAO,CAACI,WAAW,CAACC,OAAO,CAAEC,UAAU,IACrCL,mBAAmB,CAACM,QAAQ,CAACD,UAAU,CAAC,GAAIH,KAAK,IAAI,CAAC,GAAI,CAC5D,CAAC;EACDH,OAAO,CAACQ,QAAQ,CAACH,OAAO,CAAEI,OAAO,IAC/BP,gBAAgB,CAACK,QAAQ,CAACE,OAAO,CAAC,GAAIN,KAAK,IAAI,CAAC,GAAI,CACtD,CAAC;EACD,OAAOA,KAAK;AACd,CAAC;AACD,MAAMO,kBAAkB,GAAGA,CACzBC,QAAQ,GAAG;EAAEV,mBAAmB,EAAE,EAAE;EAAEC,gBAAgB,EAAE;AAAG,CAAC,EAC5DU,QAAQ,GAAG,CAAC;EAAEC,EAAE,EAAE,CAAC;EAAET,WAAW,EAAE,EAAE;EAAEI,QAAQ,EAAE,EAAE;EAAEM,IAAI,EAAE;AAAG,CAAC,CAAC,EAC/DC,UAAU,GAAG,KAAK,KACf;EACH,MAAM;IAAEd,mBAAmB;IAAEC;EAAiB,CAAC,GAAGS,QAAQ;EAE1D,IAAIK,cAAc,GAAGJ,QAAQ,CAACK,MAAM,CAAEjB,OAAO,IAAK;IAChD,MAAMkB,aAAa,GAAGlB,OAAO,CAACI,WAAW,CAACe,IAAI,CAAEb,UAAU,IACxDL,mBAAmB,CAACM,QAAQ,CAACD,UAAU,CACzC,CAAC;IACD,MAAMc,UAAU,GAAGpB,OAAO,CAACQ,QAAQ,CAACW,IAAI,CAAEV,OAAO,IAC/CP,gBAAgB,CAACK,QAAQ,CAACE,OAAO,CACnC,CAAC;IACD,OAAOS,aAAa,IAAIE,UAAU;EACpC,CAAC,CAAC;EAEFJ,cAAc,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC5B,MAAMC,MAAM,GAAGzB,cAAc,CAACuB,CAAC,EAAErB,mBAAmB,EAAEC,gBAAgB,CAAC;IACvE,MAAMuB,MAAM,GAAG1B,cAAc,CAACwB,CAAC,EAAEtB,mBAAmB,EAAEC,gBAAgB,CAAC;IACvE,OAAOuB,MAAM,GAAGD,MAAM;EACxB,CAAC,CAAC;EAEF,OAAOT,UAAU,GAAGC,cAAc,CAAC,CAAC,CAAC,GAAGA,cAAc;AACxD,CAAC;AAED,eAAe;EAAEN;AAAmB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}